Unless otherwise specified, in the following $G$ denotes a group, $e$ denotes the identity of $G$. The conjugacy class of an element $g$ is denoted by $[g]$. Some description and hints are omitted for simplicity.

Unless otherwise specified, all groups in this chapter are \emph{finite}.

\section{}


\begin{problem}{IV.1.1}
Let $p$ be a prime integer, let $G$ be a $p$-group, and let $S$ be a set such that $|S| \neq 0 \text{ mod } p$. If $G$ acts on $S$, prove that the action must have fixed points.
\end{problem}
\begin{pf}
This is direct by Corollary IV.1.3: since $|S| \neq 0 \text{ mod }p $, the set of fixed points $Z$ satisfies $|S| \equiv |Z| \neq 0$.	
\end{pf}

\begin{problem}{IV.1.4}
Let $G$ be a group, and let $N$ be a subgroup of $Z(G)$. Prove that $N$ is normal in $G$. 	
\end{problem}
\begin{pf}
For $g \in G$, $n \in N$,
\[
gng^{-1} = gg^{-1}n = n \in N.
\]
One should note that \emph{normal is not transitive}: if $G \unlhd H$ and $H \unlhd I$, it is in general not true that $G \unlhd I$.
\end{pf}

\begin{problem}{IV.1.5}
Let $G$ be a group. Prove that $G/Z(G)$ is isomorphic to the group $\text{Inn}(G)$ (II.6.7). Then prove Lemma 1.5 again.
\end{problem}
\begin{pf}
Let $\varphi : G \to \text{Inn}(G), \varphi(g) = \gamma_g(a) := gag^{-1}$ be a homomorphism (II.4.8). By construction it is clearly surjective, and the kernel is
\[
\ker \varphi = \{g: gag^{-1} = a\} \Rightarrow \{g : ga = ag \}	= Z(G)
\]
therefore by first isomorphism theorem, $G/Z(G) \cong \text{Inn}(G)$. If $G/Z(G)$ is cyclic, then by II.6.7 $G$ is commutative.
\end{pf}

\begin{problem}{IV.1.6}
Let $p,q$ be prime integers, and let $G$ be a group of order $pq$. Prove that either $G$ is commutative or the center of $G$ is trivial. Conclude that every group of order $p^2$, for a prime $p$, is commutative.
\end{problem}
\begin{pf}
The subgroups can only be of order $1,p,q$ or $pq$ by Lagrange, and $|Z(G)|$ can be one of these four. If $|Z(G)| = 1$, then there is nothing to prove; if $|Z(G)| = p (\text{or }q)$, then the quotient is cyclic, so it follows by Lemma IV.1.5 that $G$ is commutative; if $|Z(G)| = pq$, then $G$ is clearly commutative.

By Corollary IV.1.9, the center of a nontrivial $p$-group is nontrivial, so the order of the center for $|G| = p^2$ can not be $1$. Then by above, all the remaining cases will conclude that $G$ is commutative. 
\end{pf}

\begin{problem}{IV.1.8}
Let $p$ be a prime number, and let $G$ be a $p$-group: $|G| = p^r$. Prove that $G$ contains a normal subgroup of order $p^k$ for every nonnegative $k \leq r$.
\end{problem}
\begin{pf}
We proceed by induction. If $r = 1$ then there is nothing to prove, so we assume that for $n < r$, the $p$-group with order $p^n$ has a normal subgroup of order $p^k$ for $k \leq n$. 

Now consider the center of $G$: it is abelian and is a nontrivial $p$-group by Corollary IV.1.9, so by II.8.20, there exists a (normal) subgroup $N$ that is of order $p$ in $Z(G)$. By IV.1.4, $N$ is normal in $G$, so we can consider the quotient $G/N$. The quotient is a $p$-group and has order $p^{r-1}$, so by induction hypothesis, $G/N$ has normal subgroups of order $p^k$ for $k \leq r-1$, which we name them $H_k$ for each $k$. By noting that $H_k$ contains $N$, we can identify each $H_k$ by $H_k/N$ via Proposition II.8.9. Finally, since $|H_k/N| = p^k$, $|H_k| = p^{k+1}$, so we've found normal subgroup of order $p^k$ for $k \leq r$, proving the statement.
\end{pf}


\begin{problem}{IV.1.9}
Let $p$ be a prime number, $G$ a $p$-group, and $H$ a nontrivial normal subgroup of $G$. Prove that $H \cap Z(G) \neq \{e\}$. 
\end{problem}
\begin{pf}
Let $G$ act on itself by conjugation. Since $H$ is normal, it is the union of some conjugacy class and some element of $Z(G)$, with each conjugacy class of order $p^n$ for some $n$ by Corollary II.9.10. If $H \cap Z(G) = \{e\}$, then this means that $H$ only take $e$ from $Z(G)$, and since the order of all conjugacy classes in $H$ are divisible by $p$, we would arrive at $|H| \equiv 1 \mod p$, a contradiction since $|H|$ must be a multiple of $p$.
\end{pf}

\begin{problem}{IV.1.10}
Prove that if $G$ is a group of odd order and $g \in G$ is conjugate to $g^{-1}$, then $g = e$.
\end{problem}
\begin{pf}
Suppose $g \neq e$. Since $[g]$ contains $g^{-1}$, there are two cases:
\begin{itemize}
\item If $g = g^{-1}$, then $g^2 = 1$, so $|g| = 2$. But this is impossible since $|g|$ does not divide $|G|$, a contradiction.
\item If $g \neq g^{-1}$, then since $[g]$ must be odd order, there is some $y \in [g]$ such that $g = xyx^{-1}$. But this implies $g^{-1} = xy^{-1}x^{-1}$, so $y^{-1} \in [g]$, and $y \neq y^{-1}$ by above. So this says that $[g]$ must contain even number of elements(so must have even order), which again is impossible. 
\end{itemize} 
By above, we must have $g = e$, proving the assertion.
\end{pf}

\begin{problem}{IV.1.14}
Let $G$ be a group, and assume $[G : Z(G)] = n$ is finite. Let $A \subseteq G$ be any subset. Prove that the number of conjugates of $A$ is at most $n$.
\end{problem}
\begin{pf}
We claim that there is a surjective set function from $G/Z(G)$ to $\{gAg^{-1}\}_{g \in G}$. Define
\[
\varphi : G/Z(G) \to \{gAg^{-1}\}_{g \in G}, \quad \varphi(gZ) = gAg^{-1}
\]
We check that it is well defined: If $gZ = hZ$, then $gh^{-1} \in Z$. Now for any element $\alpha = gAg^{-1}$ we have $\alpha = gag^{-1}$ for some $a \in A$, so we have $g^{-1}\alpha g = a$, and $hg^{-1} \alpha gh^{-1} = hah^{-1}$. Since $gh^{-1} \in Z$, $hg^{-1} \alpha gh^{-1} = hg^{-1} gh^{-1} \alpha = \alpha$, so $\alpha \in hAh^{-1}$, hence $gAg^{-1} = hAh^{-1}$, which showed the well-definedness. Clearly the map is surjective by construction, and by above, there can be only at most $[G:Z(G)] = n$ distinct conjugates of $A$, which proved the assertion.
\end{pf}


\begin{problem}{IV.1.17}
Let $H$ be a proper subgroup of a finite group $G$. Prove that $G$ is \emph{not} the union of the conjugates of $H$.
\end{problem}
\begin{pf}
By Lemma IV.1.13, the numbers of conjugates of $H$ is $[G:N_G(H)]$. Since $H \subseteq N_G(H)$, $[G:N_G(H)]|H| \leq [G:H]|H| = |G|$. Even if the equality might hold, by noting that every conjugate is a subgroup and $e$ is a common element for all subgroup, there are in fact at most $([G:N_G(H)]|H| - |H| + 1)$ distinct elements in the union of all conjugates of $H$. Since this number is strictly less than $G$, $G$ will never be the union of conjugates of $H$.
\end{pf}

\begin{problem}{IV.1.18}
Let $S$ be a set endowed with a transitive action of finite group $G$, and assume $|S| \geq 2$. Prove that there exists a $g \in G$ without fixed points in $S$, that is, such that $gs \neq s$ for all $s \in S$.
\end{problem}
\begin{pf}
In the sense of Proposition II.9.9, we can assume that $S = G/H$ (\emph{left cosets, not quotient!}) where $H = \text{Stab}_G(s)$ for some $s \in S$, with $H$ proper in $G$ (as $|S| \geq 2$). Suppose the contrary, i.e. every $g$ satisfies $gkH = kH$ for some $k$. This means $k^{-1}gk \in H$, or equivalently, $g \in kHk^{-1}$. So every element in $G$ is in some conjugacy class of $H$, which is a contradiction to IV.1.17 that $G$ cannot be exhausted by conjugates of $H$. Hence $G$ must have some elements that has no fixed points on $S$, as desired.
\end{pf}


\begin{problem}{IV.1.21}
Let $H,K$ be subgroups of a group $G$, with $H \subseteq N_G(K)$. Verify that the function $\gamma: H \to \text{Aut}_\mathsf{Grp}(K)$ defined by conjugation is a homomorphism of group and that $\ker \gamma = H \cap Z_G(K)$, where $Z_G(K)$ is the centralizer of $K$.	
\end{problem}
\begin{pf}
Let $\gamma$ maps $h$ to a automorphism $\varphi_h(k) = hkh^{-1}$. It is a group homomorphism since
\[
\gamma(g)\gamma(h) \mapsto \varphi_g \varphi_h(k) = ghkh^{-1}g^{-1} = \varphi(gh) \mapsto \gamma(gh).
\]
The kernel of this map is 
\[
\ker \gamma = \{h \in H: hkh^{-1} = k \; \forall k \in K\} = \{h \in H: hk = kh \; \forall k \in K\} = H \cap Z_G(K).	
\]
\end{pf}

\begin{problem}{IV.1.22}
Let $G$ be a finite group, and let $H$ be a cyclic subgroup og $G$ of order $p$. Assume that $p$ is the smallest prime dividing the order of $G$ and that $H$ is normal in $G$. Prove that $H$ is contained in the center of $G$.
\end{problem}
\begin{pf}
In the sense of IV.1.21, we have a homomorphism $\gamma:G \to \text{Aut}_\mathsf{Grp}(H)$ since $H \subseteq N_G(G) = G$. By II.4.14, $\text{Aut}_\mathsf{Grp}(H)$ has order $\phi(p)=p-1$. But since $G$ does \emph{not} contain an element of order $p-1$ by the minimality of $p$, $\gamma$ can only be the trivial homomorphism, so it has kernel equal to $G$. But by IV.1.21, $\ker \gamma = G \cap Z_G(H) = Z_G(H)$, so we must have $Z_G(H) = G$, which means that the element that commutes with $h$ are the whole $G$, i.e. $H \subseteq Z(G)$, as desired. 
\end{pf}

\section{}

\begin{problem}{IV.2.1}
Prove Claim 2.2: 
\textit{Let G be a finite group, let p be a prime divisor of $|G|$, and let N be the number of cyclic subgroups of G of order p. Then $N \equiv 1 \mod p$.}
\end{problem}
\begin{pf}
We proceed with the same argument as in Theorem IV.2.1. Let $S$ be a set that collects the $p$-tuple
\[
(a_1,\dotsc,a_p)	
\]
such that $a_1\cdots a_p = 1$. It is clear that $|S| = |G|^{p-1}$, and since $a_2\cdots a_p a_1 = 1$, we can consider the action of $\Z/p\Z$ on $S$, by 
\[
\alpha_m : (a_1,\dotsc,a_n) \mapsto (a_{m+1},\dotsc,a_p,a_1,\dotsc,a_m)	
\]
By Corollary IV.1.3, $|Z| \equiv |S| \mod 0$, where $Z$ is the fixed points under $\Z/p\Z$. The fixed points are of form $(a,\dotsc,a)$ for $a \in G$, and since $(e,\dotsc,e) \in Z$ and $p$ divides $|Z|$, $|Z| > 1$. Now notice that for each $a \in G$ such that $(a,\dotsc,a) \in Z$, $a$ is a generator for some cyclic group of order $p$, so there are $N(p-1) + 1$(identity) elements in $Z$. But since $|Z| \equiv 0 \mod p$, we have
\[
Np - N + 1 \equiv 0 \mod p  \Longrightarrow N \equiv 1 \mod p
\]
as desired.
\end{pf}

\begin{problem}{IV.2.2}
Let $G$ be a group. A subgroup $H$ of $G$ is \emph{characteristic} if $\varphi(H) \subseteq H$ for every automorphism $\varphi$ of $G$.
\begin{itemize}
\setlength\itemsep{0pc}
\item Prove that every characteristic subgroups are normal.
\item Let $H \subseteq K \subseteq G$, with $H$ characteristic in $K$ and $K$ normal in $G$. Prove that $H$ is normal in $G$. 
\item Let $G,K$ be groups, and assume that $G$ contains a single subgroup $H$ isomorphic to $K$. Prove that $H$ is normal in $G$.
\item Let $K$ be a normal subgroup of a finite group $G$, and assume that $|K|$ and $|G/K|$ are relatively prime. Prove that $K$ is characteristic in $G$.
\end{itemize} 
\end{problem}
\begin{pf}
\begin{itemize}
\setlength\itemsep{0pt}
\item Consider $\gamma_g(h) := ghg^{-1}$ for all $g \in G$. Then $gHg^{-1} \subseteq H$ by characteristic property of $H$, so $H$ is normal.
\item By normalness of $K$, we have $gKg^{-1} = K$, so $\gamma_g$ is an automorphism on $K$. Then since $\gamma_g(H) \subseteq H$, $gHg^{-1} \subseteq H$, so $H$ is normal.
\item Let $\varphi$ be any automorphism of $G$. Then $\varphi(H) \cong H \cong K$ since $\varphi$ is an isomorphism. But since $H$ is the only subgroup that is isomorphic to $K$, $\varphi(H) = H$, so $H$ is characteristic, hence normal. 
\item Let $\varphi$ be any automorphism of $G$, and let $\pi : G \to G/K$ be the quotient homomorphism.	Let $K' = \varphi(K)$. Then $\pi(K')$ is a subgroup of $G/K$, so $|\pi(K')|$ divides $|G/K|$. Also, by first isomorphism theorem, $K'/\ker \pi \cong \im \pi = \pi(K')$, so $|\pi(K')|$ divides $|K'| = |K|$. Since $|K|$ and $|G/K|$ are relatively prime, we can only have $|\pi(K')| = 1$, i.e. $\pi(K') = e_{G/H}$. Combining with $\ker \pi = K$, we have
\[
\varphi(K) = K' \subseteq \ker \pi = K
\]
as desired.
\end{itemize}
\end{pf}

\begin{problem}{IV.2.4}
Prove that a nontrivial group $G$ is simple if and only if its only homomorphic image are the trivial group and $G$ itself (up to isomorphism).
\end{problem}
\begin{pf}

\noindent $(\Rightarrow)$ Let $\varphi : G \to G'$ be a surjective homomorphism. By first isomorphism theorem, $G/\ker \varphi \cong G'$. But since kernel is a normal subgroup, the only possibility of $G'$ are $G/\{e\} = G$ or $G/G = \{e\}$. \\
$(\Leftarrow)$ If $G$ is not simple, i.e. there are some nontrivial normal subgroup of $G$, which we call it $H$, then $\varphi : G \to G/H,g \mapsto gH$ is a surjective homomorphism, and $G/H$ is neither $\{e\}$ nor $G$(up to isomorphism), a contradiction. 
\end{pf}

\begin{problem}{IV.2.5}
Let $G$ be a \emph{simple} group, and assume $\varphi: G \to G'$ is a nontrivial group homomorphism. Prove that $\varphi$ is injective.
\end{problem}
\begin{pf}
$\ker \varphi$ can only be $\{0\}$ or $G$ by simpleness. If $\ker \varphi = \{0\}$ the we are done; if $\ker \varphi = G$ then $\varphi = 0$, which can't be by hypothesis.
\end{pf}

\begin{problem}{IV.2.6}
Prove that there are no simple groups of order $4, 8, 9, 16, 25, 27, 32$ or $49$. In fact, prove that no $p$-group of order $\geq p^2$ is simple.
\end{problem}
\begin{pf}
The center of $p$-group, by Corollary IV.1.9, is nontrivial. Since center is a normal subgroup, no group of order $p^n$ for $n \geq 2$ is simple.    
\end{pf}

\begin{problem}{IV.2.8}
Let $G$ be a finite group, $p$ a prime integer, and let $N$ be the intersection of the $p$-Sylow subgroups of $G$. Prove that $N$ is a \emph{normal} $p$-subgroup of $G$ and that every normal $p$-subgroup of $G$ is contained in $N$.
\end{problem}
\begin{pf}
Let $P$ be a $p$-Sylow, then we can let $N = \bigcap_{g \in G}gPg^{-1}$. The conjugate of $N$ is $pNp^{-1} = \bigcap_{g \in G}pgP(pg)^{-1}$, which is again $N$, so $N$ is normal. Now if $N'$ is a normal $p$-subgroup, then by Sylow II we can assume that $N \subseteq P$. Then for all $g \in G$, $N' = gN'g^{-1} \subseteq gPg^{-1}$, so $N' \subseteq \bigcap_{g \in G}gPg^{-1} = N$, and $N'$ is in $N$, as required. 
\end{pf}

\begin{problem}{IV.2.9}
Let $P$ be a $p$-Sylow subgroup of a finite group $G$, and let $H \subseteq G$ be a $p$-subgroup. Assume $H \subseteq N_G(P)$. Prove that $H \subseteq P$.
\end{problem}
\begin{pf}
By noting that $P$ is normal in $N_G(P)$ (Remark IV.1.12), we consider $PH$, which is a subgroup of $N_G(P)$ by Proposition II.8.11. Then by second isomorphism theorem
\[
\frac{PH}{P} \cong \frac{H}{P \cap H}	
\]
Now $|PH| = \frac{|P||H|}{|P \cap H|}$ by II.8.21, and since either $|P \cap H| = 1$ or $|H|$ by Sylow II, $PH$ is a $p$-group, and it must be $P$ since $P$ is the maximal $p$-subgroup of $G$. Then we have $H \subseteq P$ since $PH = P \Leftrightarrow H \subseteq P$.
\end{pf}



\begin{problem}{IV.2.10}
Let $P$ be a $p$-Sylow subgroup of a finite group $G$, and act with $P$ by conjugation on the set of $p$-Sylow subgroups of $G$. Show that $P$ is the unique fixed point of this action.
\end{problem}
\begin{pf}
Let $S$ be the collection of $p$-Sylow subgroups of $G$, and let $P$ act on $S$ by conjugation. If $H$ is any $p$-Sylow that is fixed by $P$, then we have $H \subseteq N_G(P)$ ($PHP^{-1} = H \Rightarrow HPH^{-1} = P$), so we can apply IV.2.9 and obtain $H \subseteq P$. But by Sylow II, $H$ must be $P$, proving the statement. 
\end{pf}

\begin{problem}{IV.2.12}
Let $P$ be a $p$-Sylow subgroup of a finite group $G$, and let $H \subseteq G$ be a subgroup containing the normalizer $N_G(P)$. Prove that $[G:H] \equiv 1 \mod p$.
\end{problem}
\begin{pf}
By Sylow III, $[G : N_G(P)] \equiv 1 \mod p $. Since $H$ contains $P$, $P$ is also a $p$-Sylow of $H$. Since $H \supseteq N_G(P)$, the normalizer of $P$ in $H$ is also $N_G(P)$, so $N_H(P) = N_G(P)$. Then clearly $[G : N_G(P)] = [G : N_H(P)] \equiv 1 \mod p$. Finally
\[
[G : H] = \frac{[G : N_G(P)]}{[H : N_G(P)]}	= \frac{[G : N_G(P)]}{[H : N_H(P)]}
\]
and since both numerator and the denominator are both congruent to 1 mod $p$, $[G:H] \equiv 1 \mod p$.
\end{pf}

\begin{problem}{IV.2.13}
Let $P$ be a $p$-Sylow subgroup of a finite group $G$.
\begin{itemize}
\setlength\itemsep{0pt}
\item Prove that if $P$ is normal in $G$, then it is in fact characteristic in $G$.
\item Let $H \subseteq G$ be a subgroup containing the Sylow subgroup $P$. Assume $P$ is normal in $H$ and $H$ is normal in $G$. Prove that $P$ is normal in $G$.
\item Prove that $N_G(N_G(P)) = N_G(P)$.
\end{itemize}
\end{problem}
\begin{pf}
\begin{itemize}
\setlength\itemsep{0pt}
\item Since $\gcd(|P|, |G/P|) = 1$ as $P$ is Sylow, by the 4th point of IV.2.2, $P$ is characteristic in $G$.
\item By above, $P$ is characteristic in $H$, so by 2nd point of IV.2.2, $P$ is normal in $G$.
\item We have the normal chain
\[
P \trianglelefteq N_G(P) \trianglelefteq N_G(N_G(P))	
\]
and by above, $P$ is normal in $N_G(N_G(P))$, so for any $g \in N_G(N_G(P)), gPg^{-1} = P$, i.e. $g \in N_G(P)$. Since the other inclusion is clear, we conclude that $N_G(N_G(P)) = N_G(P)$. 
\end{itemize}
\end{pf}

\section{}

\begin{problem}{IV.3.1}
Prove that $\Z$ has normal series of arbitrary length.
\end{problem}
\begin{pf}
If $\Z$ has a normal series $\Z \supsetneq \cdots \supsetneq n\Z$, then we have an extended normal series $\Z \supsetneq \cdots \supsetneq n\Z \supsetneq 2n\Z$, which can be further extended by infinitely times.
\end{pf}

\begin{problem}{IV.3.3}
Prove that every finite group has a composition series. Prove that $\Z$ does not have a composition series. 
\end{problem}
\begin{pf}
Proceed by induction, since groups of order $1$ has a composition series, assume that for a given positive integer $n$, all groups that has order less than $n$ admits a composition series. Then for $|G|=n$, it suffices to show that there exists some normal subgroup $H$ such that $G/H$ is simple, and the rest follows from induction. 

Indeed, we can let $H$ be the \emph{largest} normal subgroup (in the sense that if $H$ is normal in $H'$, then $H' = H$, assuming $H'$ proper). Then in view of Proposition II.8.9, $G/H$ is simple if and only if $H$ is the largest normal subgroup of $G$, as required.

$\Z$ does not have a composition series: If there were one, then all decomposition factors are of the form $d\Z/dp\Z \cong \Z/p\Z$ where $p$ is a prime. Then we can clearly write 
\[
\{0\} = \prod_{i = 1}^n p_i\Z \subsetneq \cdots \subsetneq p_1p_2p_3\Z  \subsetneq p_1p_2\Z \subsetneq p_1\Z \subsetneq 1\Z = \Z
\]
for $p_i$ being primes. But this is absurd since product of primes will never be zero.
\end{pf}

\begin{problem}{IV.3.4}
Find an example of two nonisomorphic groups with the same decomposition factors.
\end{problem}
\begin{sol}
The groups $D_8$ and $C_8$ both has $C_2$ and $C_4$ as their normal subgroups, so there are series 
\begin{align*}
D_8 \triangleright C_4 \triangleright C_2 \triangleright \{e\} \\
C_8 \triangleright C_4 \triangleright C_2 \triangleright \{e\}
\end{align*}
\end{sol}

\begin{problem}{IV.3.5}
Show that if $H, K$ are \emph{normal} subgroups of a group $G$, then $HK$ is a normal subgroup of $G$. 
\end{problem} 
\begin{pf}
For $hk \in HK$, $g \in G$,
\[
ghkg^{-1} = ghg^{-1}gkg^{-1} \in (gHg^{-1})(gKg^{-1}) = HK
\]
so $gHKg^{-1} = HK$, hence normal.
\end{pf}

\begin{problem}{IV.3.8}
Prove Lemma 3.7: \emph{Let $\varphi:G_1 \to G_2$ be a group homomorphism. Then $\forall g,h \in G_1$ we have}
\[
\varphi([g,h]) = [\varphi(g),\varphi(h)]
\]
and $\varphi(G_1') \subseteq G_2'$.
\end{problem}
\begin{pf}
\[
\varphi([g,h]) = \varphi(ghg^{-1}h^{-1}) = \varphi(g)\varphi(h)\varphi(g^{-1})\varphi(h^{-1}) = [\varphi(g), \varphi(h)].	
\]
The subgroup inclusion is immediate.
\end{pf}

\begin{problem}{IV.3.15}
Let $p,q$ be prime integers, and let $G$ be a group of order $p^2q$. Prove that $G$ is solvable.
\end{problem}
\begin{pf}
If $p = q$ then there is nothing to prove ($G$ is a $p$-group), so assume two other cases:
\begin{itemize}
\setlength\itemsep{0pt}
\item $p > q$. By Sylow III, $G$ can only have $1$ $p$-Sylow: if there are $1+p$ $p$-Sylows, then we would have too much elements as $(p^2-1)(p+1) = p^3 + p^2 - p > p^3 > p^2q$. So there is a normal subgroup $H$ that has order $p^2$, and $[G:H] = q$. Since $H$ and $G/H$ are solvable, $G$ is solvable by Corollary IV.3.13.
\item $p < q$. By Sylow III, the numbers of $q$-Sylows $n_q$ satisfies $n_q \mid p^2$ and $n_q \equiv 1 \mod q$. Since $p$ is a prime, $n_q$ can be one of $1, p$ and $p^2$. If $n_q = 1$, then we can find a normal subgroup $H$ such that $|H|=q$, and $[G:H]=p^2$, so $G$ is solvable; if $n_q = p$, then we would have $p \equiv 1 \mod q$, but this can't happen since $p < q$; if $n_q = p^2$, then there are 
\[
p^2q - p^2(q-1) = p^2 
\]
elements outside the union of $q$-Sylows (including $e$), which can precisely fit in a $p$-Sylow, so by the case $p>q$, $G$ is again solvable. 
\end{itemize}
Therefore for $|G|=p^2q$, $G$ is solvable. \emph{One should note that this is still true for all groups $G$ such that $|G|=p^nq$ where $n$ is a positive integer.} This can be proved by induction on $n$, and it follows the same pattern as above. 
\end{pf}

\begin{problem}{IV.3.16}
Prove that every group of order $<120$ and $\neq 60$ is solvable.
\end{problem}
\begin{pf}
There are several tests to check that a group is solvable:
\begin{enumerate}[label=(\roman*)]
\setlength\itemsep{0pt}
\item \textcolor{BrickRed}{$p$-groups} (Example IV.3.12);
\item \textcolor{green}{$pq$ groups} (Corollary IV.3.13);
\item \textcolor{blue}{$p^nq$ groups} (IV.3.15);
\item \textcolor{Plum}{$pqr$ groups}: we will give a proof later;
\item "Exceptions": 36, 72, 84, 90, 100, 108.
\end{enumerate}
This gives the following fancy chart (60 has $A_5$ as an exception, and 120 has $S_5$). 
\begin{center}
\begin{tabular}{llllllllllll}
\textcolor{BrickRed}{1} &\textcolor{BrickRed}{2} &\textcolor{BrickRed}{3} &\textcolor{BrickRed}{4} &\textcolor{BrickRed}{5} &\textcolor{green}{6} &\textcolor{BrickRed}{7} &\textcolor{BrickRed}{8} &\textcolor{BrickRed}{9} &\textcolor{green}{10} &\textcolor{BrickRed}{11} &\textcolor{blue}{12} \\
\textcolor{BrickRed}{13} &\textcolor{green}{14} &\textcolor{green}{15} &\textcolor{BrickRed}{16} &\textcolor{BrickRed}{17} &\textcolor{blue}{18} &\textcolor{BrickRed}{19} &\textcolor{blue}{20} &\textcolor{green}{21} &\textcolor{green}{22} &\textcolor{BrickRed}{23} &\textcolor{blue}{24} \\
\textcolor{BrickRed}{25} &\textcolor{green}{26} &\textcolor{BrickRed}{27} &\textcolor{blue}{28} &\textcolor{BrickRed}{29} &\textcolor{Plum}{30} &\textcolor{BrickRed}{31} &\textcolor{BrickRed}{32} &\textcolor{green}{33} &\textcolor{green}{34} &\textcolor{green}{35} &36 \\
\textcolor{BrickRed}{37} &\textcolor{green}{38} &\textcolor{green}{39} &\textcolor{blue}{40} &\textcolor{BrickRed}{41} &\textcolor{Plum}{42} &\textcolor{BrickRed}{43} &\textcolor{blue}{44} &\textcolor{blue}{45} &\textcolor{green}{46} &\textcolor{BrickRed}{47} &\textcolor{blue}{48} \\
\textcolor{BrickRed}{49} &\textcolor{blue}{50} &\textcolor{green}{51} &\textcolor{blue}{52} &\textcolor{BrickRed}{53} &\textcolor{blue}{54} &\textcolor{green}{55} &\textcolor{blue}{56} &\textcolor{green}{57} &\textcolor{green}{58} &\textcolor{BrickRed}{59} &\textbf{60 !} \\
\textcolor{BrickRed}{61} &\textcolor{green}{62} &\textcolor{blue}{63} &\textcolor{BrickRed}{64} &\textcolor{green}{65} &\textcolor{Plum}{66} &\textcolor{BrickRed}{67} &\textcolor{blue}{68} &\textcolor{green}{69} &\textcolor{Plum}{70} &\textcolor{BrickRed}{71} &72 \\
\textcolor{BrickRed}{73} &\textcolor{green}{74} &\textcolor{blue}{75} &\textcolor{blue}{76} &\textcolor{green}{77} &\textcolor{Plum}{78} &\textcolor{BrickRed}{79} &\textcolor{blue}{80} &\textcolor{BrickRed}{81} &\textcolor{green}{82} &\textcolor{BrickRed}{83} &84 \\
\textcolor{green}{85} &\textcolor{green}{86} &\textcolor{green}{87} &\textcolor{blue}{88} &\textcolor{BrickRed}{89} &90 &\textcolor{green}{91} &\textcolor{blue}{92} &\textcolor{green}{93} &\textcolor{green}{94} &\textcolor{green}{95} &\textcolor{blue}{96} \\
\textcolor{BrickRed}{97} &\textcolor{blue}{98} &\textcolor{blue}{99} &100 &\textcolor{BrickRed}{101} &\textcolor{Plum}{102} &\textcolor{BrickRed}{103} &\textcolor{blue}{104} &\textcolor{Plum}{105} &\textcolor{green}{106} &\textcolor{BrickRed}{107} &108 \\
\textcolor{BrickRed}{109} &\textcolor{Plum}{110} &\textcolor{green}{111} &\textcolor{blue}{112} &\textcolor{BrickRed}{113} &\textcolor{Plum}{114} &\textcolor{green}{115} &\textcolor{blue}{116} &\textcolor{blue}{117} &\textcolor{green}{118} &\textcolor{green}{119} &\textbf{120 !} \\
\end{tabular}
\end{center}

Now we handle the special cases. Let $n_p$ denotes the numbers of $p$-Sylow subgroup:
\begin{itemize}
\setlength\itemsep{0pt}
\item $36 = 2^2 \cdot 3^2$: We can have $n_3 = 1$ or $4$. The former would give a decomposition $9 \times 4$, and for the latter we consider the action by conjugation on $3$-Sylows; this induces a homomorphism $\varphi : G \to S_4$, and hence a homomorphism $G/\ker \varphi \hookrightarrow S_4$. Finally $\ker \varphi$ is not trivial since $36 > 24$, so $|\ker \varphi|>1$, and $|G/\ker \varphi| \leq 18$. It then follows that the quotient (and the kernel) is solvable by the chart. 
\item $72 = 2^3 \cdot 3^2$: We can have $n_3 = 1$ or $4$. The former would give a decomposition $18 \times 4$, and the latter case is the same as in the case $36$.
\item $84 = 2^2 \cdot 3 \cdot 7$: $n_7$ must be $1$ since $(1+7) \nmid 12$. 
\item $90 = 2 \cdot 3^2 \cdot 5$: We only consider the cases where $n_3, n_5$ are not $1$. By simple calculation, we have $n_5 = 6, n_3 = 10$. But then if all $3$-Sylow intersects trivially, then sum of elements that has order $3$ or $5$ is $10(9-1)+6(5-1) = 104 > 90$, which is too much. \\
So there is some $H,K$: $3$-Sylows such that $|H \cap K| = 3$ (can't be $9$: then $H = K$). Now
\[
\frac{|H||K|}{|H \cap K|} = |HK| = 27	
\]
and also 
\[
[H:H\cap K] = [K:H\cap K] = 3
\]
so $H\cap K$ is normal in $H$ and $K$ by II.9.11. We "claim" that $H \cap K$ is normal in $G$, by evaluate the normalizer $N = N_G(H \cap K)$ (cf. Remark IV.1.12). Note that this subgroup includes $HK$ by normalness ($HK(H \cap K)K^{-1}H^{-1} = H(H \cap K)H^{-1} = H \cap K$), so the order of $N$ satisfies
\[
|N| \geq 27, \quad |N| \mid 90, \quad 9 \mid |N| \; \text{(Lagrange on }H)
\]
and candidates of $|N|$ are $45$ and $90$. In the former case we have $[G : N] = 2$ so $N$ is normal by II.8.2, and the latter case implies $H \cap K$ is normal (Remark IV.1.12). Either way, the quotient with respect to normal subgroups has order $<45$, and by the chart, it is solvable.
\item $100 = 2^2 \cdot 5^2$: We can only have $n_5 = 1$ since $(1+5) > 4$. 
\item $108 = 2^2 \cdot 3^3$: We can have $n_3 = 1$ or $4$. The former would give a decomposition $27 \times 4$, and the latter case is the same as in the case $36$.
\end{itemize}

Finally it suffices to prove the following lemma: \\
\textbf{Lemma. }\textit{
Let $p,q,r$ be primes such that $p > q > r$. Then a group that has order pqr is solvable.
}\\
\emph{Proof. \;\;}Let us investigate the possibility of different conbination of Sylow subgroups. 
\begin{itemize}
\setlength\itemsep{0pt}
\item For $n_p$, there is nothing to prove if $n_p = 1$, and since $p$ is the largest we cannot have $n_p = q$ or $r$, so we must have $n_p = qr$.
\item For $n_q$, there is nothing to prove if $n_q = 1$, and we cannot have $n_q = r$, so at worse we have $n_q \geq p$.
\item For $n_r$, there is nothing to prove if $n_r = 1$, so at worse we have $n_r \geq q$.
\end{itemize}
Now at worse, $G$ would contain way too much elements as
\[
qr(p-1) + p(q-1) + q(r-1) = pqr - qr + pq - p + qr - q > pqr.
\]
Therefore $n_k = 1$ for some $k \in \{p,q,r\}$, and the lemma is proved. \hfill\ensuremath{\square}

All above finishes the proof.
\end{pf}


\section{}

\begin{problem}{IV.4.1}
Compute the number of elements in the conjugacy class of 
\[
\begin{pmatrix}
1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
8 & 1 & 2 & 7 & 5 & 3 & 4 & 6
\end{pmatrix}
\]
in $S_8$.
\end{problem}
\begin{sol}
This permutation is of type $(5,2,1)$, so all permutation that is of type $(5,2,1)$ is in the conjugacy class. There are 
\[
\frac{8\cdot 7 \cdot 6 \cdot 5 \cdot 4}{5} \cdot \frac{3 \cdot 2}{2} = 3360
\]
elements in the conjugacy class of this permutation.
\end{sol}

\begin{problem}{IV.4.5}
Find the class formula for $S_n, n \leq 6$.
\end{problem}
\begin{sol}
The case $n = 1,2,3,5$ has been done in the book, and the case $n=4$ will be done in the next problem, so we only do $n = 6$:
\begin{center}
\begin{tabular}{l|l|l|l}
Cycle type & Counts &Cycle type & Counts \\
(6) & $\dfrac{6!}{6} = 120$ &(3,1,1,1) &$\dfrac{6!}{3! \cdot 3} = 40$ \\[8pt]
(5,1) &$\dfrac{6!}{1 \cdot 5} = 144$ & (2,2,2) &$\dfrac{6!}{4!\cdot 2} \cdot \dfrac{4!}{2!\cdot 2} \cdot \dfrac{2!}{2} \cdot \dfrac{1}{3!} = 15$ \\[8pt]
(4,2) &$\dfrac{6!}{2! \cdot 4} \cdot \dfrac{2!}{2} = 90$ &(2,2,1,1) &$\dfrac{6!}{4!\cdot 2} \cdot \dfrac{4!}{2!\cdot 2} \cdot \dfrac{1}{2!} = 45$ \\[8pt]
(4,1,1) &$\dfrac{6!}{2! \cdot 4} = 90$ &(2,1,1,1,1) &$\dfrac{6!}{4!\cdot 2} = 15$ \\[8pt]
(3,3) &$\dfrac{6!}{3! \cdot 3} \cdot \dfrac{3!}{3} \cdot \dfrac{1}{2} = 40$ &(1,1,1,1,1,1) &$1$ \\[8pt]
(3,2,1) &$\dfrac{6!}{3! \cdot 3} \cdot \dfrac{3!}{2} = 120$ &Sum &720

\end{tabular}	
\end{center}

\end{sol}

\begin{problem}{IV.4.6}
Let $N$ be a \emph{normal} subgroup of $S_4$. Prove that $|N| = 1,4,12,$ or $24$. 
\end{problem}
\begin{pf}
We only need to prove the case $|N|=4$ ($12$ follows from II.8.2). Note that normal subgroups are the union of conjugates, so by noting that the class formula 
\[
24 = \underbrace{1}_e + \underbrace{6}_{(a b)} + \underbrace{8}_{(a b c)} + \underbrace{3}_{(a b)(c d)} + \underbrace{6}_{(a b c d)}
\]
we can pick
\[
N = \{e, (1 2)(3 4), (1 3)(2 4), (1 4)(2 3)\}	
\]
and this is indeed normal and of order 4.
\end{pf}


\begin{problem}{IV.4.7}
Prove that $S_n$ is generated by $(12)$ and $(12\dotsc n)$.
\end{problem}
\begin{pf}
It suffices to get all transpositions. Denote $\tau = (12\dotsc n)$, and note $\tau^{-1}=(n \; n-1 \dotsc 1)$. First we observe that 
\[
\tau(12)\tau^{-1} = \tau^{-1}(12) = (n 1)
\]
Then we replace $(12)$ with $(n 1)$, we obtain $(n ; n-1)$. Continuing this process, we obtain all transpositions that is of type $(k \; k+1)$ for $1 \leq k < n$ and $(n 1)$. Now we form all transpositions of type $(1 n)$, by observing
\[
(1 3) = (2 3)(1 2)(3 2)	
\]
and replace $(1 2)$ by $(1 3)$ obtains $(1 4)$, so we have all transpositions of type $(1 n)$. Finally we can form \emph{any} transpositions via
\[
(m n) = (1 m)(1 n)(m 1)	
\]
therefore $S_n$ is generated by $(12)$ and $(12\dotsc n)$.
\end{pf}

\begin{problem}{IV.4.10} \el
\begin{itemize}
    \setlength\itemsep{0pt}
    \item Prove that there are exactly $(n-1)!$ $n$-cycles in $S_n$.
    \item More generally, find a formula for the size of the conjugacy class of a permutation of given type in $S_n$.
\end{itemize}
\end{problem}
\begin{pf}
There are $n!$ way to arrange $n$ elements in a line, but since cycles are invariant under "rotation", i.e.
\[
(1 2 \cdots n) = (n 1 2 \cdots n-1) = \cdots = (2 3 \cdots n 1)	
\]
and there are $n$ repeated cycles (including itself) for each distinct cycle in $S_n$, so there are $(n-1)!$ $n$-cycles.

Now given a type $(t_1,\cdots ,t_k)$ where $t_1 \leq \cdots \leq t_k$, the first term has $n!/(n-t_1)!$ choices on elements, and the second term has $(n-t_1)!/(n-t_1-t_2)!$ choices on elements, etc. Then each $t_i$-cycle counts its repeated cycle, which is precisely $t_i$, and divide them. So the size is
\[
\frac{n!}{(n-t_1)!\;t_1} \cdot \frac{(n-t_1)!}{(n-t_1-t_2)!\;t_2} \cdots \frac{t_k!}{t_k} = \frac{n!}{t_1 t_2 \cdots t_k}
\]
Finally for repeated choice of cycles (i.e. $t_i = t_{i+1} = \cdots = t_{i+m}$), we need to divide them by $(m+1)!$. Let $c_i$ denotes the count of the number $i$ appearing in $(t_1,\cdots ,t_k)$, then the final size is
\[
\frac{n!}{t_1 t_2 \cdots t_k} \cdot \frac{1}{c_1! c_2! \cdots c_n!}.
\]
\end{pf}